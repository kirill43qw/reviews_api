# Reviews API

## Описание

Проект **Reviews API** предоставляет платформу для сбора отзывов пользователей на произведения, такие как книги, фильмы и музыку. Произведения классифицируются по категориям и жанрам, а пользователи могут оставлять отзывы, комментарии, ставить оценки и редактировать свои данные.

---

## Архитектура

### DDD (Domain-Driven Design)
Проект реализует архитектурный подход DDD, что включает:

- **Entities:** централизованные модели, содержащие бизнес-логику.
- **Services:** интерфейсы для взаимодействия с сущностями.
- **Use Cases:** обработчики операций, обеспечивающие взаимодействие между слоями.
- **Dependency Injection:** реализован через `punq`.

---

## Установка и запуск
```bash
git clone 'https://github.com/kirill43qw/reviews_api'
make app
docker-compose up -d --build
make migrations
make migrate
docker exec -it main_app python3 manage.py makemigrations
docker exec -it main_app python3 manage.py migrate
make sync
docker exec -it main_app upsert_title_search

---

## Алгоритм регистрации пользователей

1. **Запрос на `auth/`:**
   Пользователь отправляет запрос с параметрами `phone` и `number`.
   
2. **Получение кода подтверждения:**
   Сервис отправляет SMS с кодом подтверждения (`confirmation_code`) на указанный номер.

3. **Подтверждение регистрации:**
   Пользователь отправляет код вместе с номером телефона на `confirm/` и получает `token`.

4. **Редактирование профиля:**
   Пользователь может отправить `PATCH`-запрос на `/users/me/` для заполнения профиля. Все поля описаны в документации.

---

## Пользовательские роли

- **Аноним**:
  - Просмотр описаний произведений.
  - Чтение отзывов и комментариев.

- **Аутентифицированный пользователь**:
  - Все права анонима.
  - Создание отзывов, оценок, комментариев.
  - Редактирование и удаление своих отзывов и комментариев.

- **Модератор**:
  - Все права аутентифицированного пользователя.
  - Удаление любых отзывов и комментариев.

- **Администратор**:
  - Полный контроль над проектом.
  - Управление пользователями, категориями, произведениями, жанрами.

- **Django-администратор**:
  - Все права администратора плюс доступ к панели Django.

---



